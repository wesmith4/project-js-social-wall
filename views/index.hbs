<div id="messages-page">
  {{#if errors}}
    <div class="notice error">
      <h2 class="notice-header">Error</h2>
      <ul class="error-list">
        {{#each errors}}
          {{#each this}}
            <li>{{@../key}} {{message}}</li>
          {{/each}}
        {{/each}}
      </ul>
    </div>
  {{/if}}

  <form id="message-form" method="POST" action="/messages">
    <textarea id="message-body-input" name="body" placeholder="Enter a message here."></textarea>
    <input type="text" name="mood" placeholder="Mood">
    <button type="submit">Post Message</button>
  </form>

  <div id="messages" class="message-list">
    <h2>Messages</h2>

    {{#unless messages}}
      <p>Sorry, no messages. :(</p>
    {{else}}
        {{#each messages}}
            <div class="message" id={{id}}>
              <div class="message-body">
                {{body}}
              </div>
              <div class="message-mood">
                {{#if mood}}
                feeling {{mood}}
                {{/if}}
              </div>
              <div class="message-timestamp">
                Posted on {{createdAt}}
              </div></s>
              <div class="likes">
                {{#if likes}}
                {{likes}} Likes
                {{/if}}
              </div>
              <form action="/messages/{{id}}/like" method="POST" id="like-form">
                <button type="submit">Like</button>
              </form>
            </div>
        {{/each}}
    {{/unless}}
  </div>
</div>
